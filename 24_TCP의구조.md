# 24. TCP의 구조

### 1. TCP란?
- TCP 정의
  - 연결형 통신에 사용되는 프로토콜 
- TCP 구성요소
  - 헤더 : TCP로 전송할 때 붙이는 헤더를 말한다.
    - 출발지 포트 번호(16비트)
    - 목적지 포트 번호(16비트)
    - 일련번호(32비트)
    - 확인 응답 번호(32비트)
    - 헤더 길이(4비트)
    - 예약 영역(6비트)
    - 코드 비트(6비트)
    - 윈도우 크기(16비트)
    - 체크섬(16비트)
    - 긴급 포인터(16비트)
    - 옵션
  - 세그먼트 : TCP 헤더가 붙은 데이터이다.
- TCP 연결
  - TCP 통신에서 정보를 전달하기 위해 가상의 독점 통신로로 연결을 확립하고 데이터를 전송한다.
  - 연결을 확립하려면 TPC헤더의 코드비트에서 SYN(연결요청)과 ACK(확인응답)가 필요하다.


### 2. 3-way 핸드셰이크란?
- 정의
- 신뢰할 수 있는 연결을 하기 위해 데이터를 전송하기 전 3번 패킷을 교환하는 것을 의미한다.
- 연결 확립 동작
  - (1) 연결 확립 요청 (SYN 1로 활성화)
  - (2) 연결 확립 응답 (ACK 1로 활성화) + 연결 확립 요청(SYN 1로 활성화)
  - (3) 연결 확립 응답 (ACK 1로 활성화)
- 연결 종료 동작
  - (1) 연결 종료 요청 (FIN 1로 활성화)
  - (2) 연결 종료 응답 (ACK 1로 활성화) + 연결 종료 요청 (FIN 1로 활성화)
  - (3) 연결 종료 응답 (ACK 1로 활성화)
